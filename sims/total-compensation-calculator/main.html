<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Compensation Calculator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; background: #f8f9fa; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 24px; }
        h1 { font-size: 22px; margin-bottom: 6px; color: #1a5f7a; text-align: center; }
        .subtitle { text-align: center; color: #666; font-size: 13px; margin-bottom: 24px; }
        .offers-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
        @media(max-width:620px){ .offers-grid { grid-template-columns: 1fr; } }
        .offer-card { border-radius: 10px; padding: 16px; border: 2px solid #e9ecef; }
        .offer-a { border-color: #1a5f7a; }
        .offer-b { border-color: #28a745; }
        .offer-card h3 { font-size: 14px; font-weight: 700; margin-bottom: 14px; }
        .offer-a h3 { color: #1a5f7a; }
        .offer-b h3 { color: #155724; }
        .field { margin-bottom: 10px; }
        .field label { font-size: 12px; font-weight: 600; color: #666; display: block; margin-bottom: 3px; }
        .field input { width: 100%; padding: 7px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; }
        .total-banner { text-align: center; padding: 16px; border-radius: 10px; margin-top: 10px; }
        .offer-a .total-banner { background: #e8f4f8; }
        .offer-b .total-banner { background: #d4edda; }
        .total-banner .total { font-size: 28px; font-weight: 800; }
        .offer-a .total-banner .total { color: #1a5f7a; }
        .offer-b .total-banner .total { color: #155724; }
        .total-banner .label { font-size: 12px; color: #666; }
        .winner-row { text-align: center; padding: 14px; border-radius: 8px; font-size: 14px; font-weight: 600; margin-bottom: 20px; background: #fff3cd; color: #856404; }
        .winner-a { background: #d1ecf1; color: #0c5460; }
        .winner-b { background: #d4edda; color: #155724; }
    </style>
</head>
<body>
<div class="container">
    <h1>Total Compensation Calculator</h1>
    <p class="subtitle">Go beyond base salary — calculate the real value of two job offers side by side.</p>

    <div class="offers-grid">
        <div class="offer-card offer-a">
            <h3>Offer A</h3>
            <div class="field"><label>Base Salary ($)</label><input type="number" class="offer-a-field" data-field="salary" value="55000" oninput="recalc()"></div>
            <div class="field"><label>Annual Bonus ($)</label><input type="number" class="offer-a-field" data-field="bonus" value="2750" oninput="recalc()"></div>
            <div class="field"><label>401(k) Match ($/yr)</label><input type="number" class="offer-a-field" data-field="match" value="1650" oninput="recalc()"></div>
            <div class="field"><label>Health Insurance Value ($/yr)</label><input type="number" class="offer-a-field" data-field="health" value="7200" oninput="recalc()"></div>
            <div class="field"><label>Dental + Vision ($/yr)</label><input type="number" class="offer-a-field" data-field="dental" value="600" oninput="recalc()"></div>
            <div class="field"><label>PTO Days</label><input type="number" class="offer-a-field" data-field="pto" value="15" oninput="recalc()"></div>
            <div class="field"><label>HSA Contribution ($/yr)</label><input type="number" class="offer-a-field" data-field="hsa" value="500" oninput="recalc()"></div>
            <div class="field"><label>Education Reimbursement ($/yr)</label><input type="number" class="offer-a-field" data-field="edu" value="2000" oninput="recalc()"></div>
            <div class="field"><label>Remote Work Savings ($/yr)</label><input type="number" class="offer-a-field" data-field="remote" value="0" oninput="recalc()"></div>
            <div class="total-banner">
                <div class="label">Total Compensation</div>
                <div class="total" id="totalA">$0</div>
            </div>
        </div>
        <div class="offer-card offer-b">
            <h3>Offer B</h3>
            <div class="field"><label>Base Salary ($)</label><input type="number" class="offer-b-field" data-field="salary" value="62000" oninput="recalc()"></div>
            <div class="field"><label>Annual Bonus ($)</label><input type="number" class="offer-b-field" data-field="bonus" value="0" oninput="recalc()"></div>
            <div class="field"><label>401(k) Match ($/yr)</label><input type="number" class="offer-b-field" data-field="match" value="0" oninput="recalc()"></div>
            <div class="field"><label>Health Insurance Value ($/yr)</label><input type="number" class="offer-b-field" data-field="health" value="3600" oninput="recalc()"></div>
            <div class="field"><label>Dental + Vision ($/yr)</label><input type="number" class="offer-b-field" data-field="dental" value="0" oninput="recalc()"></div>
            <div class="field"><label>PTO Days</label><input type="number" class="offer-b-field" data-field="pto" value="10" oninput="recalc()"></div>
            <div class="field"><label>HSA Contribution ($/yr)</label><input type="number" class="offer-b-field" data-field="hsa" value="0" oninput="recalc()"></div>
            <div class="field"><label>Education Reimbursement ($/yr)</label><input type="number" class="offer-b-field" data-field="edu" value="0" oninput="recalc()"></div>
            <div class="field"><label>Remote Work Savings ($/yr)</label><input type="number" class="offer-b-field" data-field="remote" value="2400" oninput="recalc()"></div>
            <div class="total-banner">
                <div class="label">Total Compensation</div>
                <div class="total" id="totalB">$0</div>
            </div>
        </div>
    </div>

    <div class="winner-row" id="winnerRow"></div>

    <canvas id="chart"></canvas>
</div>
<script>
let chart;
function fmt(n) { return '$' + Math.round(n).toLocaleString(); }

function getOfferVals(cls) {
    const fields = {};
    document.querySelectorAll('.' + cls).forEach(inp => {
        fields[inp.dataset.field] = parseFloat(inp.value) || 0;
    });
    return fields;
}

function calcPTOValue(salary, ptoDays) {
    return salary / 260 * ptoDays;
}

function calcTotal(fields) {
    const ptoValue = calcPTOValue(fields.salary, fields.pto);
    return fields.salary + fields.bonus + fields.match + fields.health + fields.dental + ptoValue + fields.hsa + fields.edu + fields.remote;
}

function recalc() {
    const a = getOfferVals('offer-a-field');
    const b = getOfferVals('offer-b-field');
    const totalA = calcTotal(a);
    const totalB = calcTotal(b);

    document.getElementById('totalA').textContent = fmt(totalA);
    document.getElementById('totalB').textContent = fmt(totalB);

    const wr = document.getElementById('winnerRow');
    const diff = Math.abs(totalA - totalB);
    if (diff < 500) {
        wr.className = 'winner-row';
        wr.textContent = `The offers are nearly equal in total value (within ${fmt(diff)}).`;
    } else if (totalA > totalB) {
        wr.className = 'winner-row winner-a';
        wr.textContent = `Offer A has ${fmt(diff)} more in total annual value — even though Offer B has a higher base salary of ${fmt(b.salary - a.salary)} more.`;
    } else {
        wr.className = 'winner-row winner-b';
        wr.textContent = `Offer B has ${fmt(diff)} more in total annual value.`;
    }

    const fields = ['Salary', 'Bonus', '401k Match', 'Health Ins', 'Dental/Vision', 'PTO Value', 'HSA', 'Education', 'Remote Savings'];
    const aValues = [a.salary, a.bonus, a.match, a.health, a.dental, calcPTOValue(a.salary, a.pto), a.hsa, a.edu, a.remote];
    const bValues = [b.salary, b.bonus, b.match, b.health, b.dental, calcPTOValue(b.salary, b.pto), b.hsa, b.edu, b.remote];

    if (!chart) {
        chart = new Chart(document.getElementById('chart'), {
            type: 'bar',
            data: {
                labels: fields,
                datasets: [
                    { label: 'Offer A', data: aValues, backgroundColor: '#1a5f7a80', borderColor: '#1a5f7a', borderWidth: 1, borderRadius: 4 },
                    { label: 'Offer B', data: bValues, backgroundColor: '#28a74580', borderColor: '#28a745', borderWidth: 1, borderRadius: 4 }
                ]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom' } },
                scales: { y: { ticks: { callback: v => '$' + v.toLocaleString() } } }
            }
        });
    } else {
        chart.data.datasets[0].data = aValues;
        chart.data.datasets[1].data = bValues;
        chart.update();
    }
}

recalc();
</script>
</body>
</html>
